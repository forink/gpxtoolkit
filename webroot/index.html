<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>GPX里程產生器</title>
  <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/checkout/">
  <!-- Bootstrap core CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
  <!-- Favicons -->
  <link rel="apple-touch-icon" href="https://getbootstrap.com/docs/5.0/assets/img/favicons/apple-touch-icon.png"
    sizes="180x180">
  <link rel="icon" href="https://getbootstrap.com/docs/5.0/assets/img/favicons/favicon-32x32.png" sizes="32x32"
    type="image/png">
  <link rel="icon" href="https://getbootstrap.com/docs/5.0/assets/img/favicons/favicon-16x16.png" sizes="16x16"
    type="image/png">
  <link rel="manifest" href="https://getbootstrap.com/docs/5.0/assets/img/favicons/manifest.json">
  <link rel="mask-icon" href="https://getbootstrap.com/docs/5.0/assets/img/favicons/safari-pinned-tab.svg"
    color="#7952b3">
  <link rel="icon" href="https://getbootstrap.com/docs/5.0/assets/img/favicons/favicon.ico">
  <meta name="theme-color" content="#7952b3">
  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }
    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }
  </style>
  <!-- Custom styles for this template -->
  <link href="https://getbootstrap.com/docs/5.0/examples/checkout/form-validation.css" rel="stylesheet">
</head>
<body class="bg-light">
  <div class="container">
    <main>
      <!-- Modal -->
      <div class="modal fade" id="introModal" tabindex="-1" aria-labelledby="introModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="introModalLabel">簡介及源起</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="關閉"></button>
            </div>
            <div class="modal-body">
              <p>本工具可讀取原始GPX檔案，依指定間距計算出里程航點 (例如 0.1K, 0.2K 等等) 後產生新的GPX檔案。</p>
              <p>本工具源於桃園市山岳協會及中華民國山岳協會持續推動<a href="https://www.tytaaa.org.tw/news/7">登山路標的標準化及建置</a>，為簡化及加速路標架設的GPX前置處理作業，因此開始創作此工具。相關問題回報及建議請來信：<code>outdoorsafetylab 小老鼠 gmail.com</code></p>
              <p>如果您有 web 前端或 golang 後端技能，也歡迎在<a href="https://github.com/outdoorsafetylab/gpxtoolkit">GitHub</a>上加入我們持續改善此工具！</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-bs-dismiss="modal">關閉</button>
            </div>
          </div>
        </div>
      </div>
      <div class="modal fade" id="notesModal" tabindex="-1" aria-labelledby="notesModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="notesModalLabel">注意事項</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="關閉"></button>
            </div>
            <div class="modal-body">
              <ol>
                <li>請注意路線起點位置，里程會以其為基準開始計算。</li>
                <li>請預先去除雜點，漂移點及原地不動時的毛線球航跡。</li>
                <li>請務必再以人工確認產出結果。</li>
                <li>建議一條路線使用一個GPX檔案以便確認。</li>
              </ol>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-bs-dismiss="modal">關閉</button>
            </div>
          </div>
        </div>
      </div>
      <div class="modal fade" id="nameTemplateModal" tabindex="-1" aria-labelledby="nameTemplateModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="nameTemplateModalLabel">里程航點名稱樣版說明</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="關閉"></button>
            </div>
            <div class="modal-body">
              <p>里程航點名稱採用 <a href="https://golang.org/pkg/text/template/">Go 語言樣版語法</a>，並提供以下變數可供使用：</p>
              <ul>
                <li><b>.Index</b>: 里程索引，整數，從0開始。</li>
                <li><b>.Number</b>: 里程號碼，整數，從1開始。</li>
                <li><b>.Meter</b>: 里程距離，浮點數(小數)，以公尺計算。</li>
                <li><b>.Kilometer</b>: 里程距離，浮點數(小數)，以公里計算。</li>
              </ul>
              <p>範例：<code>CT5{{printf "%02d" .Index}}</code><br/>產出結果：<b>CT500</b>, <b>CT501</b>, <b>CT502</b>...</p>
              <p>範例：<code>{{printf "%.1f" .Kilometer}}K</code><br/>產出結果：<b>0.1K</b>, <b>0.2K</b>, <b>0.3K</b>...</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-primary" data-bs-dismiss="modal">關閉</button>
            </div>
          </div>
        </div>
      </div>
      <div class="py-3 text-center">
        <!-- <img class="d-block mx-auto mb-2" src="https://getbootstrap.com/docs/5.0/assets/brand/bootstrap-logo.svg" alt=""
          width="72" height="57"> -->
        <img class="d-block mx-auto mb-2" src="/icon.png">
        <h2 class="mb-3">GPX里程產生器</h2>
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#introModal">
          簡介及源起
        </button>
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#notesModal">
          注意事項
        </button>
      </div>
      <div class="row g-5">
        <div class="col-md-12 col-lg-12">
          <form class="needs-validation" method="post" action="/cgi/milestones" enctype="multipart/form-data" novalidate>
            <input type="hidden" name="filename-suffix" value="(含里程)">
            <div class="row g-3">
              <div class="col-12">
                <label for="gpx-file" class="form-label">GPX檔</label>
                <input class="form-control" type="file" id="gpx-file" name="gpx-file" accept=".gpx" required>
                <div class="invalid-feedback">
                  請選擇GPX檔
                </div>
              </div>
              <div class="col-12">
                <input type="checkbox" class="form-check-input" id="reverse" name="reverse">
                <label class="form-check-label" for="reverse">反向產生里程航點</label>
              </div>
              <div class="col-sm-6">
                <label for="distance" class="form-label">里程間距</label>
                <div class="input-group">
                  <input type="number" class="form-control" id="distance" name="distance" value="100" placeholder="100" required aria-describedby="distance-addon2">
                  <span class="input-group-text" id="distance-addon2">公尺</span>
                </div>
                <div class="invalid-feedback">
                  請輸入里程間距
                </div>
              </div>
              <div class="col-sm-6">
                <label for="name-template" class="form-label">里程航點名稱樣版</label>
                <div class="input-group">
                  <input type="text" class="form-control" id="name-template" name="name-template" value='{{printf "%.1f" .Kilometer}}K' required aria-describedby="name-template-addon2">
                  <button class="btn btn-outline-primary" type="button" id="name-template-addon2" data-bs-toggle="modal" data-bs-target="#nameTemplateModal">說明</button>
                </div>
                <div class="invalid-feedback">
                  請輸入里程航點名稱樣版
                </div>
              </div>
            </div>
            <hr class="my-4">
            <div class="text-center">
              <button class="btn btn-primary" type="submit">產生里程GPX檔</button>
            </div>
          </form>
        </div>
      </div>
    </main>
    <footer class="pt-5 text-muted text-center text-small">
      <p class="mb-1">&copy; 2021 <a href="https://outdoorsafetylab.org/">Outdoor Safety Lab</a></p>
      <ul class="list-inline">
        <li class="list-inline-item"><a href="https://github.com/outdoorsafetylab/gpxtoolkit">GitHub開源專案</a></li>
      </ul>
    </footer>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
    crossorigin="anonymous"></script>
  <script src="https://getbootstrap.com/docs/5.0/examples/checkout/form-validation.js"></script>
</body>

</html>